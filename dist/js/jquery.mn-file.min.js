!function(e){"use strict";e.fn.mnFileInput=function(t){var s=this;this.$file=e(this).closest(".customFile"),this.$selectedFile=this.$file.find(".selectedFile"),this.settings=e.extend({display:"left",controlMsg:"Choose a file",noFileSelectedMsg:"No file selected",preview:"",previewSupportedExt:["png","jpeg","jpg","gif"],beforeChange:function(){},afterChange:function(){},afterPreview:function(){}},t||{});var i=null,n=null;e(this).each(function(t,a){i=e(a).closest(".customFile"),n=i.find(".selectedFile"),i.attr("data-display")||i.attr("data-display",s.settings.display),i.attr("data-controlMsg")||i.attr("data-controlMsg",s.settings.controlMsg),""==n.text()&&n.text(s.settings.noFileSelectedMsg)}),this.loadPreview=function(t,s,i){if(t.files&&t.files[0]){var n=new FileReader;n.onload=function(t){t.target.result&&(e(s).attr("src",t.target.result),i&&i(t))},n.readAsDataURL(t.files[0])}},this.change(function(t){s.settings.beforeChange(t);var i=e(this).closest(".customFile").find(".selectedFile");i.addClass("inProgress");var n=e(".customFile").data("controlMsg");if(t.target){n=t.target.value.replace(/^.*[\\\/]/,"");var a=n.split(".").pop();i.text(n),i.removeClass("inProgress"),s.settings.previewSupportedExt.indexOf(a.toLowerCase())>=0&&""!=s.settings.preview&&s.loadPreview(this,s.settings.preview,s.settings.afterPreview(t)),s.settings.afterChange(t)}})}}(jQuery);